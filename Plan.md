# **План автоматизации тестирования веб-сервиса покупки тура.**

Документации валидных данных для карт нет.
- **Описание валидных данных для поля "Номер карты"** :
  - валидными данными считаются 16 цифр от 0 до 9, в формате 1234 5678 9012 3456.
  - В эмулятор банковского сервиса записаны предопределённые ответы для заданного набора карт:
    1. для карты "4444 4444 4444 4441" - **покупка одобрена**.
    1. для карты "4444 4444 4444 4442" - **покупка отклонена**.
- **Описание валидных данных для полей "Месяц" и "Год"** :
  - валидной датой считается текущий или будущий месяц и год в формате mm YY. Например, 07 и 24.
- **Описание валидных данных для поля "Владелец"** :
  - валидными данными считаются имена написанные на латинице заглавными или строчными буквами, от 2 до 50 символов, например, Aleksandr.
  - валидными данными считается наличие знака дефис «-», и наличие пробела например, Anna-Maria Popova.
- **Описание валидных данных для полей "CVC/CVV"** :
  - валидными данными считаются числа от 001 до 999. Например, 123.

## **1. Перечень автоматизируемых сценариев:**

### **Сценарии оплаты по карте** :

Предусловие для всех позитивных и негативных сценариев с оплатой по карте:

- открыть в браузере главную страницу сайта [http://localhost:8080/](http://localhost:8080/)
- нажать на кнопку «Купить»
- отображается вкладка «Оплата по карте».

- **Сценарий 1.1 "Позитивный сценарий покупки по карте"** :
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4441
  - заполнить поля «Месяц», «Год», «Владелец», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Операция одобрена Банком.". Покупка отображается в БД с одобренным статусом_.

- **Сценарий 1.2 "Негативный сценарий покупки по карте, отказ покупки"** :
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4442
  - заполнить поля «Месяц», «Год», «Владелец», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Ошибка! Банк отказал в проведении операции.". Покупка не отображается в БД_.

- **Сценарий 1.3 "Попытка покупки, с незаполненными полями"** :
  - оставить поля "Номер карты", "Месяц", "Год", "Владелец", «CVC/CVV» незаполненными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полями "Номер карты", "Месяц", "Год", «CVC/CVV» отображается сообщение "Неверный формат". Под полем "Владелец" отображается сообщение "Поле обязательно для заполнения". Покупка не отображается в БД_.

#### **Проверка полей** :

**Номер карты**:
- **Сценарий 2.1 "Негативный сценарий покупки, пустое поле "Номер карты""** :
  - заполнить поля "Месяц", "Год", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Номер карты" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 2.2 "Негативный сценарий покупки, невалидный номер карты""** :
  - заполнить поле "Номер карты", цифрами менее 16 символов, например, 1234
  - заполнить поля "Месяц", "Год", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 2.3 "Негативный сценарий покупки, невалидный номер карты""** :
  - заполнить поле "Номер карты", нулями - 0000 0000 0000 0000
  - заполнить поля "Месяц", "Год", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**Месяц**:
- **Сценарий 3.1 "Негативный сценарий покупки, пустое поле "Месяц""** :
  - заполнить поля "Номер карты", "Год", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Месяц" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Месяц" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**Год**:
- **Сценарий 3.1 "Негативный сценарий покупки, пустое поле "Год""** :
  - заполнить поля "Номер карты", "Месяц", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Год" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 3.2 "Негативный сценарий покупки, невалидный год""** :
  - заполнить поле "Год", одной цифрой, например, 1
  - заполнить поля "Номер карты", "Месяц", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 3.3 "Негативный сценарий покупки, прошедшая дата""** :
  - заполнить поля "Месяц" и "Год", данными прошлого месяца. Например 01/24, при условии, если сейчас 02/24
  - заполнить поля "Номер карты", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Истёк срок действия карты". Покупка не отображается в БД_.

**Владелец**:
- **Сценарий 4.1 "Позитивный сценарий покупки, использование символа "-" в имени"** :
  - заполнить поле «Владелец» валидными данными с использованием дефиса, например, Anna-Maria Popova
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4441
  - заполнить поля «Месяц», «Год», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Операция одобрена Банком.". Покупка отображается в БД с одобренным статусом_.

- **Сценарий 4.2 "Негативный сценарий покупки, пустое поле "Владелец""** :
  - заполнить поля "Номер карты", "Месяц", "Год", «CVC/CVV» валидными данными
  - оставить поле "Владелец" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Поле обязательно для заполнения". Покупка не отображается в БД_.

- **Сценарий 4.3 "Негативный сценарий покупки, невалидное имя владельца""** :
  - заполнить поле "Владелец", числовым значением, например, 1234
  - заполнить поля "Номер карты", "Месяц", «Год», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 4.4 "Негативный сценарий покупки, невалидное имя владельца""** :
  - заполнить поле "Владелец", спец. символами, например, ^#%&@
  - заполнить поля "Номер карты", "Месяц", «Год», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**CVC/CVV**:
- **Сценарий 5.1 "Негативный сценарий покупки, пустое поле "CVC/CVV""** :
  - заполнить поля "Номер карты", "Месяц", "Год", «Владелец» валидными данными
  - оставить поле "CVC/CVV" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "CVC/CVV" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 5.2 "Негативный сценарий покупки, невалидный CVC/CVV""** :
  - заполнить поле "CVC/CVV", одной цифрой, например, 1
  - заполнить поля "Номер карты", "Месяц", "Год", «Владелец» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "CVC/CVV" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

#### **Сценарии проверки полей ввода, без отправки формы** :

**Номер карты**:
- **Сценарий 6.1 "Попытка ввода букв в поле "Номер карты""** :
  - заполнить поле "Номер карты" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Номер карты" осталось пустым_.

- **Сценарий 6.2 "Попытка ввода спец. символов в поле "Номер карты""** :
  - заполнить поле "Номер карты" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Номер карты" осталось пустым_.

- **Сценарий 6.3 "Попытка ввода пробела в поле "Номер карты""** :
  - заполнить поле "Номер карты" пробелом

_ожидаемый результат: поле "Номер карты" осталось пустым_.

**Месяц**:
- **Сценарий 7.1 "Попытка ввода букв в поле "Месяц""** :
  - заполнить поле "Месяц" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Месяц" осталось пустым_.

- **Сценарий 7.2 "Попытка ввода спец. символов в поле "Месяц""** :
  - заполнить поле "Месяц" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Месяц" осталось пустым_.

- **Сценарий 7.3 "Попытка ввода пробела в поле "Месяц""** :
  - заполнить поле "Месяц" пробелом

_ожидаемый результат: поле "Месяц" осталось пустым_.

**Год**:
- **Сценарий 8.1 "Попытка ввода букв в поле "Год""** :
  - заполнить поле "Год" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Год" осталось пустым_.

- **Сценарий 8.2 "Попытка ввода спец. символов в поле "Год""** :
  - заполнить поле "Год" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Год" осталось пустым_.

- **Сценарий 8.3 "Попытка ввода пробела в поле "Год""** :
  - заполнить поле "Год" пробелом

_ожидаемый результат: поле "Год" осталось пустым_.

**CVC/CVV**:
- **Сценарий 8.1 "Попытка ввода букв в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" буквенным значением, например, Alexandr

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

- **Сценарий 8.2 "Попытка ввода спец. символов в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" спец. символами, например, ^#%&@

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

- **Сценарий 8.3 "Попытка ввода пробела в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" пробелом

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

### **Сценарии оплаты в кредит** :

Предусловие для всех позитивных и негативных сценариев с оплатой по карте:

- открыть в браузере главную страницу сайта [http://localhost:8080/](http://localhost:8080/)
- нажать на кнопку «Купить в кредит»
- отображается вкладка «Кредит по данным карты».

- **Сценарий 9.1 "Позитивный сценарий покупки в кредит"** :
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4441
  - заполнить поля «Месяц», «Год», «Владелец», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Операция одобрена Банком.". Покупка отображается в БД с одобренным статусом_.

- **Сценарий 9.2 "Негативный сценарий покупки в кредит, отказ покупки"** :
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4442
  - заполнить поля «Месяц», «Год», «Владелец», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Ошибка! Банк отказал в проведении операции.". Покупка не отображается в БД_.

- **Сценарий 9.3 "Попытка покупки, с незаполненными полями"** :
  - оставить поля "Номер карты", "Месяц", "Год", "Владелец", «CVC/CVV» незаполненными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полями "Номер карты", "Месяц", "Год", «CVC/CVV» отображается сообщение "Неверный формат". Под полем "Владелец" отображается сообщение "Поле обязательно для заполнения". Покупка не отображается в БД_.

#### **Проверка полей** :

**Номер карты**:
- **Сценарий 10.1 "Негативный сценарий покупки, пустое поле "Номер карты""** :
  - заполнить поля "Месяц", "Год", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Номер карты" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 10.2 "Негативный сценарий покупки, невалидный номер карты""** :
  - заполнить поле "Номер карты", цифрами менее 16 символов, например, 1234
  - заполнить поля "Месяц", "Год", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 10.3 "Негативный сценарий покупки, невалидный номер карты""** :
  - заполнить поле "Номер карты", нулями - 0000 0000 0000 0000
  - заполнить поля "Месяц", "Год", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Номер карты" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**Месяц**:
- **Сценарий 11.1 "Негативный сценарий покупки, пустое поле "Месяц""** :
  - заполнить поля "Номер карты", "Год", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Месяц" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Месяц" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**Год**:
- **Сценарий 12.1 "Негативный сценарий покупки, пустое поле "Год""** :
  - заполнить поля "Номер карты", "Месяц", "Владелец", «CVC/CVV» валидными данными
  - оставить поле "Год" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 12.2 "Негативный сценарий покупки, невалидный год""** :
  - заполнить поле "Год", одной цифрой, например, 1
  - заполнить поля "Номер карты", "Месяц", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 12.3 "Негативный сценарий покупки, прошедшая дата""** :
  - заполнить поля "Месяц" и "Год", данными прошлого месяца. Например 01/24, при условии, если сейчас 02/24
  - заполнить поля "Номер карты", «Владелец», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Год" отображается сообщение "Истёк срок действия карты". Покупка не отображается в БД_.

**Владелец**:
- **Сценарий 13.1 "Позитивный сценарий покупки, использование символа "-" в имени"** :
  - заполнить поле «Владелец» валидными данными с использованием дефиса, например, Anna-Maria Popova
  - заполнить поле «Номер карты» валидными данными, из записанного набора, 4444 4444 4444 4441
  - заполнить поля «Месяц», «Год», «CVC/CVV» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: отображается сообщение "Операция одобрена Банком.". Покупка отображается в БД с одобренным статусом_.

- **Сценарий 13.2 "Негативный сценарий покупки, пустое поле "Владелец""** :
  - заполнить поля "Номер карты", "Месяц", "Год", «CVC/CVV» валидными данными
  - оставить поле "Владелец" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Поле обязательно для заполнения". Покупка не отображается в БД_.

- **Сценарий 13.3 "Негативный сценарий покупки, невалидное имя владельца""** :
  - заполнить поле "Владелец", числовым значением, например, 1234
  - заполнить поля "Номер карты", "Месяц", «Год», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 13.4 "Негативный сценарий покупки, невалидное имя владельца""** :
  - заполнить поле "Владелец", спец. символами, например, ^#%&@
  - заполнить поля "Номер карты", "Месяц", «Год», "CVC/CVV" валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "Владелец" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

**CVC/CVV**:
- **Сценарий 14.1 "Негативный сценарий покупки, пустое поле "CVC/CVV""** :
  - заполнить поля "Номер карты", "Месяц", "Год", «Владелец» валидными данными
  - оставить поле "CVC/CVV" незаполненным
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "CVC/CVV" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

- **Сценарий 14.2 "Негативный сценарий покупки, невалидный CVC/CVV""** :
  - заполнить поле "CVC/CVV", одной цифрой, например, 1
  - заполнить поля "Номер карты", "Месяц", "Год", «Владелец» валидными данными
  - нажать кнопку "Продолжить"

_ожидаемый результат: под полем "CVC/CVV" отображается сообщение "Неверный формат". Покупка не отображается в БД_.

#### **Сценарии проверки полей ввода, без отправки формы** :

**Номер карты**:
- **Сценарий 15.1 "Попытка ввода букв в поле "Номер карты""** :
  - заполнить поле "Номер карты" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Номер карты" осталось пустым_.

- **Сценарий 15.2 "Попытка ввода спец. символов в поле "Номер карты""** :
  - заполнить поле "Номер карты" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Номер карты" осталось пустым_.

- **Сценарий 15.3 "Попытка ввода пробела в поле "Номер карты""** :
  - заполнить поле "Номер карты" пробелом

_ожидаемый результат: поле "Номер карты" осталось пустым_.

**Месяц**:
- **Сценарий 16.1 "Попытка ввода букв в поле "Месяц""** :
  - заполнить поле "Месяц" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Месяц" осталось пустым_.

- **Сценарий 16.2 "Попытка ввода спец. символов в поле "Месяц""** :
  - заполнить поле "Месяц" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Месяц" осталось пустым_.

- **Сценарий 16.3 "Попытка ввода пробела в поле "Месяц""** :
  - заполнить поле "Месяц" пробелом

_ожидаемый результат: поле "Месяц" осталось пустым_.

**Год**:
- **Сценарий 17.1 "Попытка ввода букв в поле "Год""** :
  - заполнить поле "Год" буквенным значением, например, Alexandr

_ожидаемый результат: поле "Год" осталось пустым_.

- **Сценарий 17.2 "Попытка ввода спец. символов в поле "Год""** :
  - заполнить поле "Год" спец. символами, например, ^#%&@

_ожидаемый результат: поле "Год" осталось пустым_.

- **Сценарий 17.3 "Попытка ввода пробела в поле "Год""** :
  - заполнить поле "Год" пробелом

_ожидаемый результат: поле "Год" осталось пустым_.

**CVC/CVV**:
- **Сценарий 18.1 "Попытка ввода букв в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" буквенным значением, например, Alexandr

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

- **Сценарий 18.2 "Попытка ввода спец. символов в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" спец. символами, например, ^#%&@

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

- **Сценарий 18.3 "Попытка ввода пробела в поле "CVC/CVV""** :
  - заполнить поле "CVC/CVV" пробелом

_ожидаемый результат: поле "CVC/CVV" осталось пустым_.

## **2. Перечень используемых инструментов с обоснованием выбора:**

- IntelliJ IDEA - среда разработки для Java.
- Язык программирования: Java, благодаря простоте и широкой поддержке в сфере автоматизации тестирования.
- Git - система контроля версий проекта.
- GitHub - хранение репозиториев с кодом автотестов и баг-репортов.
- Lombok - аннотация, которая позволяет генерировать код.
- Инструмент автоматизации тестирования: Selenide, так как он поддерживает различные браузеры и является мощным инструментом для веб-автоматизации.
- Фреймворк для тестирования: JUnit 5 для удобного написания и запуска тестов.
- Gradle - инструмент автоматизации сборки и управления зависимостями.
- Docker - система контейнеризации.
- Docker Compose для запуска мультиконтейнерных приложений.
- REST Assured для взаимодействия с SQL базами данных.
- Allure - фреймворк для репортинга.

## **3. Перечень необходимых разрешений, данных и доступов:**

- Документация
- Валидные данные карт.
- Разрешение на использование автоматизированных средств для тестирования, от владельца SUT.
- Доступ к тестовой среде для проведения автоматизированных тестов.
- Доступа к БД, API.

## **4. Перечень и описание возможных рисков при автоматизации:**

- Обнаружение неработающего функционала.
- Изменение структуры страницы: если структура страницы изменится, может потребоваться пересмотреть и изменить локаторы элементов.
- Нестабильность среды: нестабильные соединения или серверные проблемы могут привести к неудачным тестам.
- Риск блокировки: использование бот-подобного поведения может привести к блокировке аккаунта на сайте.

## **5. Перечень необходимых специалистов для автоматизации:**

- QA-инженер с опытом автоматизации тестирования веб-приложений.

## **6. Интервальная оценка с учётом рисков в часах:**

- Планирование автоматизации тестирования: 24 часа.
- Запуск приложения и настройка окружения: 12 часа.
- Написание автотестов с необходимыми сценариями, тестирование и отладка: 168 часов.
- Формирование и подготовка отчетов: 48 часов.
- Резерв на риски и возможные изменения: 48 часов.

_Общая интервальная оценка: 300 часов (с учетом рисков и возможных изменений)_.

## **7. ## План сдачи работ:**

- Запуск приложения и настройка окружения - до 11.01.2024.
- Планирование автоматизации тестирования - до 13.01.2024.
- Написание автотестов, тестирование и отладка - до 18.01.2024.
- Формирование и подготовка отчетов - до 20.01.2024.
